(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};function n(e,t,n,r,a,o,c){try{var i=e[o](c),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],c=!0,i=!1;try{for(n=n.call(e);!(c=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);c=!0);}catch(e){i=!0,a=e}finally{try{c||null==n.return||n.return()}finally{if(i)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}e.r(t);const o=window.regeneratorRuntime;var c=e.n(o);const i=window.wp.element,l=window.wp.components,u=window.wp.apiFetch;var s=e.n(u);window.addEventListener("load",(function(){var e,t=document.createElement("div");t.id="ppcp-app",null===(e=document.getElementById("wpbody"))||void 0===e||e.append(t);var n=document.getElementById("deactivate-payment-plugins-for-paypal-woocommerce");n||(n=document.getElementById("deactivate-pymntpl-paypal-woocommerce")),(0,i.render)(React.createElement(p,{el:n}),document.getElementById("ppcp-app"))}));var p=function(e){var t=e.el,n=a((0,i.useState)(!1),2),r=n[0],o=n[1],c=(0,i.useCallback)((function(e){e.preventDefault(),o(!0)}),[]);return(0,i.useEffect)((function(){if(t)return t.addEventListener("click",c),function(){return t.removeEventListener("click",c)}}),[c]),t?React.createElement(d,{submit:function(){t.removeEventListener("click",c),t.click(),o(!1)},deactivateLink:t.href,open:r,setOpen:o,data:wcPPCPModal}):null},d=function(e){var t=e.deactivateLink,r=e.open,o=e.setOpen,u=e.data,p=e.submit,d=a((0,i.useState)("found_better"),2),m=d[0],f=d[1],v=a((0,i.useState)(""),2),y=v[0],h=v[1],b=a((0,i.useState)(),2),w=b[0],E=b[1],g=a((0,i.useState)(""),2),P=g[0],S=g[1],R=function(){return o(!1)},k=Object.keys(u.options).map((function(e){return{label:u.options[e],value:e}})),O=function(){var e,t=(e=c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,s()({method:"POST",url:u.route,data:{reason_code:m,reason_text:y}});case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:return e.prev=8,E(!1),p(),e.finish(8);case 12:case"end":return e.stop()}}),e,null,[[1,6,8,12]])})),function(){var t=this,r=arguments;return new Promise((function(a,o){var c=e.apply(t,r);function i(e){n(c,a,o,i,l,"next",e)}function l(e){n(c,a,o,i,l,"throw",e)}i(void 0)}))});return function(){return t.apply(this,arguments)}}();(0,i.useEffect)((function(){u.placeholders.hasOwnProperty(m)?S(u.placeholders[m]):S("")}),[m]);var C={title:u.title,isDismissible:!0,focusOnMount:!0,isFullScreen:!1,onRequestClose:R};return r?React.createElement(l.Modal,C,React.createElement("div",{className:"ppcp-modal-content"},React.createElement("p",null,u.description),React.createElement("div",{className:"options-container"},React.createElement(l.RadioControl,{selected:m,options:k,onChange:f})),React.createElement("div",{className:"ppcp-deactivation__text"},React.createElement(l.TextareaControl,{placeholder:P,value:y,onChange:h}))),React.createElement("div",{className:"ppcp-modal-actions"},React.createElement(l.Button,{variant:"primary",onClick:O,isBusy:w,disabled:w},u.buttons.primary),React.createElement(l.Button,{href:t,className:"ppcp-skip-deactivate",variant:"tertiary",onClick:R},u.buttons.secondary))):null};(this.wcPPCP=this.wcPPCP||{})["admin-deactivate"]=t})();
//# sourceMappingURL=admin-deactivate.js.map