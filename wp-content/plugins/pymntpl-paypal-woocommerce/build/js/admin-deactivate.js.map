{"version":3,"file":"admin-deactivate.js","mappings":"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","sources":["webpack://wcPPCP/webpack/bootstrap","webpack://wcPPCP/webpack/runtime/compat get default export","webpack://wcPPCP/webpack/runtime/define property getters","webpack://wcPPCP/webpack/runtime/hasOwnProperty shorthand","webpack://wcPPCP/webpack/runtime/make namespace object","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","webpack://wcPPCP/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://wcPPCP/external window \"regeneratorRuntime\"","webpack://wcPPCP/external window [\"wp\",\"element\"]","webpack://wcPPCP/external window [\"wp\",\"components\"]","webpack://wcPPCP/external window [\"wp\",\"apiFetch\"]","webpack://wcPPCP/./assets/js/admin/deactivate.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"regeneratorRuntime\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"element\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"components\"];","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"wp\"][\"apiFetch\"];","import {useState, useCallback, useEffect, render} from '@wordpress/element';\nimport {Modal, Button, RadioControl, TextareaControl} from '@wordpress/components';\nimport apiFetch from '@wordpress/api-fetch';\n\nwindow.addEventListener('load', () => {\n    const app = document.createElement('div');\n    app.id = 'ppcp-app';\n    document.getElementById('wpbody')?.append(app);\n    let el = document.getElementById('deactivate-payment-plugins-for-paypal-woocommerce');\n    if (!el) {\n        el = document.getElementById('deactivate-pymntpl-paypal-woocommerce');\n    }\n    render(<App el={el}/>, document.getElementById('ppcp-app'));\n});\n\nconst App = ({el}) => {\n    const [open, setOpen] = useState(false);\n    const openModal = useCallback((e) => {\n        e.preventDefault();\n        setOpen(true)\n    }, []);\n    useEffect(() => {\n        if (el) {\n            el.addEventListener('click', openModal);\n            return () => el.removeEventListener('click', openModal);\n        }\n    }, [openModal]);\n    const submit = () => {\n        el.removeEventListener('click', openModal);\n        el.click();\n        setOpen(false);\n    }\n    if (el) {\n        return <DeactivationModal submit={submit} deactivateLink={el.href} open={open} setOpen={setOpen} data={wcPPCPModal}/>\n    }\n    return null;\n}\n\nconst DeactivationModal = ({deactivateLink, open, setOpen, data, submit}) => {\n    const [reasonCode, setReasonCode] = useState('found_better');\n    const [reasonText, setReasonText] = useState('');\n    const [processing, setProcessing] = useState();\n    const [placeholder, setPlaceHolder] = useState('');\n    const onClose = () => setOpen(false);\n    const options = Object.keys(data.options).map(id => ({\n        label: data.options[id],\n        value: id\n    }));\n    const onSubmit = async () => {\n        setProcessing(true);\n        try {\n            await apiFetch({\n                method: 'POST',\n                url: data.route,\n                data: {\n                    reason_code: reasonCode,\n                    reason_text: reasonText\n                }\n            })\n        } catch (error) {\n\n        } finally {\n            setProcessing(false);\n            submit();\n        }\n    }\n\n    useEffect(() => {\n        if (data.placeholders.hasOwnProperty(reasonCode)) {\n            setPlaceHolder(data.placeholders[reasonCode]);\n        } else {\n            setPlaceHolder('');\n        }\n    }, [reasonCode]);\n\n    const props = {\n        title: data.title,\n        isDismissible: true,\n        focusOnMount: true,\n        isFullScreen: false,\n        onRequestClose: onClose\n    }\n    if (open) {\n        return (\n            <Modal {...props}>\n                <div className='ppcp-modal-content'>\n                    <p>{data.description}</p>\n                    <div className='options-container'>\n                        <RadioControl selected={reasonCode} options={options} onChange={setReasonCode}/>\n                    </div>\n                    <div className='ppcp-deactivation__text'>\n                        <TextareaControl placeholder={placeholder} value={reasonText} onChange={setReasonText}/>\n                    </div>\n                </div>\n                <div className='ppcp-modal-actions'>\n                    <Button variant='primary' onClick={onSubmit} isBusy={processing} disabled={processing}>{data.buttons.primary}</Button>\n                    <Button href={deactivateLink} className='ppcp-skip-deactivate' variant='tertiary' onClick={onClose}>{data.buttons.secondary}</Button>\n                </div>\n            </Modal>\n        )\n    }\n    return null;\n}"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","asyncGeneratorStep","gen","resolve","reject","_next","_throw","arg","info","error","done","Promise","then","_arrayLikeToArray","arr","len","length","i","arr2","Array","_slicedToArray","isArray","_i","iterator","_s","_e","_arr","_n","_d","next","push","err","minLen","n","toString","slice","constructor","name","from","test","TypeError","window","addEventListener","app","document","createElement","id","getElementById","append","el","render","App","useState","open","setOpen","openModal","useCallback","e","preventDefault","useEffect","removeEventListener","DeactivationModal","submit","click","deactivateLink","href","data","wcPPCPModal","reasonCode","setReasonCode","reasonText","setReasonText","processing","setProcessing","placeholder","setPlaceHolder","onClose","options","keys","map","label","onSubmit","fn","apiFetch","method","url","route","reason_code","reason_text","self","this","args","arguments","apply","undefined","placeholders","props","title","isDismissible","focusOnMount","isFullScreen","onRequestClose","Modal","className","description","RadioControl","selected","onChange","TextareaControl","Button","variant","onClick","isBusy","disabled","buttons","primary","secondary"],"sourceRoot":""}